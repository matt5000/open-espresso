<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 300" width="800" height="300">
  <style>
    text { font-family: 'Source Sans 3', sans-serif; }
    .mono { font-family: 'Source Code Pro', monospace; }
  </style>

  <defs>
    <marker id="arrow-struct" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6" fill="none" stroke="#64748b" stroke-width="1.5"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="300" fill="#f8fafc" rx="4"/>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" fill="#0f172a" font-size="16" font-weight="bold">Current Architecture: Dual-MCU (STM32 + ESP32)</text>

  <!-- STM32 Box -->
  <rect x="30" y="50" width="310" height="230" rx="6" fill="white" stroke="#334155" stroke-width="2"/>
  <text x="185" y="75" text-anchor="middle" fill="#0f172a" font-size="14" font-weight="bold">STM32F411CE "Blackpill"</text>
  <line x1="50" y1="85" x2="320" y2="85" stroke="#e2e8f0" stroke-width="1"/>

  <!-- STM32 items -->
  <text x="55" y="108" fill="#0f172a" font-size="13">PID control</text>
  <text x="55" y="130" fill="#0f172a" font-size="13">Sensor reading</text>
  <text x="55" y="152" fill="#0f172a" font-size="13">Pump (AC dimmer)</text>
  <text x="55" y="174" fill="#0f172a" font-size="13">Solenoid valve</text>

  <text x="200" y="108" fill="#0f172a" font-size="13">Boiler SSR</text>
  <text x="200" y="130" fill="#0f172a" font-size="13">Pressure sensor</text>
  <text x="200" y="152" fill="#0f172a" font-size="13">Thermocouple</text>
  <text x="200" y="174" fill="#0f172a" font-size="13">Flow sensor</text>

  <!-- Emphasis label -->
  <rect x="60" y="200" width="250" height="28" rx="4" fill="#dbeafe" stroke="#1e40af" stroke-width="1.5"/>
  <text x="185" y="219" text-anchor="middle" fill="#1e40af" font-size="12" font-weight="bold">Real-Time Control</text>

  <!-- ESP32 Box -->
  <rect x="460" y="50" width="310" height="230" rx="6" fill="white" stroke="#334155" stroke-width="2"/>
  <text x="615" y="75" text-anchor="middle" fill="#0f172a" font-size="14" font-weight="bold">ESP32-S2/S3 "Lego"</text>
  <line x1="480" y1="85" x2="750" y2="85" stroke="#e2e8f0" stroke-width="1"/>

  <!-- ESP32 items -->
  <text x="485" y="108" fill="#0f172a" font-size="13">Nextion display</text>
  <text x="485" y="130" fill="#0f172a" font-size="13">BLE scales comm</text>
  <text x="485" y="152" fill="#0f172a" font-size="13">EEPROM storage</text>
  <text x="485" y="174" fill="#0f172a" font-size="13">Profile storage</text>
  <text x="485" y="196" fill="#0f172a" font-size="13">Web OTA</text>

  <!-- Emphasis label -->
  <rect x="490" y="215" width="250" height="28" rx="4" fill="#dbeafe" stroke="#1e40af" stroke-width="1.5"/>
  <text x="615" y="234" text-anchor="middle" fill="#1e40af" font-size="12" font-weight="bold">Connectivity + UI</text>

  <!-- UART Arrow -->
  <line x1="340" y1="155" x2="460" y2="155" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrow-struct)"/>
  <line x1="460" y1="170" x2="340" y2="170" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrow-struct)"/>

  <!-- UART Label -->
  <rect x="358" y="140" width="84" height="44" rx="4" fill="#f8fafc" stroke="#3b82f6" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="400" y="158" text-anchor="middle" fill="#3b82f6" font-size="12" font-weight="bold">UART</text>
  <text x="400" y="175" text-anchor="middle" class="mono" fill="#3b82f6" font-size="11">(115200)</text>
</svg>
