<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 500" width="600" height="500">
  <style>
    text { font-family: 'Source Sans 3', sans-serif; }
    .mono { font-family: 'Source Code Pro', monospace; }
  </style>

  <!-- Background -->
  <rect width="600" height="500" fill="#f8fafc" rx="4"/>

  <!-- Title -->
  <text x="300" y="28" text-anchor="middle" fill="#0f172a" font-size="16" font-weight="bold">Gaggia Classic Interior (Lid Removed, Top View)</text>

  <!-- Machine chassis outline -->
  <rect x="40" y="48" width="520" height="410" rx="8" fill="#fafaf9" stroke="#78716c" stroke-width="2"/>
  <text x="300" y="68" text-anchor="middle" fill="#64748b" font-size="11" font-style="italic">Gaggia Classic chassis (~250 mm x 350 mm interior)</text>

  <!-- ============ Water Tank (top-left) ============ -->
  <rect x="60" y="80" width="180" height="120" rx="6" fill="white" stroke="#334155" stroke-width="2"/>
  <text x="150" y="130" text-anchor="middle" fill="#0f172a" font-size="13" font-weight="bold">Water Tank</text>
  <text x="150" y="150" text-anchor="middle" fill="#64748b" font-size="11">Reservoir</text>
  <text x="150" y="168" text-anchor="middle" fill="#64748b" font-size="10">(removable)</text>

  <!-- ============ Boiler (top-right) ============ -->
  <rect x="280" y="80" width="260" height="120" rx="6" fill="#fee2e2" stroke="#dc2626" stroke-width="2"/>
  <text x="410" y="118" text-anchor="middle" fill="#991b1b" font-size="13" font-weight="bold">Boiler</text>
  <text x="410" y="138" text-anchor="middle" fill="#991b1b" font-size="11">Aluminium, 100 mL</text>
  <text x="410" y="158" text-anchor="middle" fill="#991b1b" font-size="11">230V heating element</text>

  <!-- TC probe indicator -->
  <circle cx="340" cy="168" r="8" fill="#fee2e2" stroke="#dc2626" stroke-width="1.5"/>
  <text x="340" y="172" text-anchor="middle" fill="#991b1b" font-size="7" font-weight="bold">TC</text>
  <line x1="348" y1="168" x2="375" y2="178" stroke="#dc2626" stroke-width="1"/>
  <text x="430" y="182" text-anchor="middle" fill="#991b1b" font-size="10">TC here (M4 fitting)</text>

  <!-- Water flow from tank to pump -->
  <line x1="150" y1="200" x2="150" y2="225" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowBlue)"/>

  <!-- ============ Pump + Flow Sensor (middle) ============ -->
  <rect x="80" y="230" width="160" height="70" rx="5" fill="white" stroke="#334155" stroke-width="2"/>
  <text x="160" y="258" text-anchor="middle" fill="#0f172a" font-size="12" font-weight="bold">Vibratory Pump</text>
  <text x="160" y="276" text-anchor="middle" fill="#0f172a" font-size="10">Ulka EP5 (230V AC)</text>

  <!-- Flow sensor (stacked below pump conceptually, adjacent in layout) -->
  <rect x="80" y="310" width="160" height="50" rx="5" fill="white" stroke="#334155" stroke-width="2"/>
  <text x="160" y="332" text-anchor="middle" fill="#0f172a" font-size="12" font-weight="bold">Flow Sensor</text>
  <text x="160" y="348" text-anchor="middle" fill="#64748b" font-size="10">Hall-effect, pulse output</text>

  <!-- Flow from pump to flow sensor -->
  <line x1="160" y1="300" x2="160" y2="310" stroke="#3b82f6" stroke-width="1.5" marker-end="url(#arrowBlue)"/>

  <!-- ============ SSR (right side, near boiler) ============ -->
  <rect x="390" y="230" width="140" height="55" rx="5" fill="#fee2e2" stroke="#dc2626" stroke-width="2"/>
  <text x="460" y="252" text-anchor="middle" fill="#991b1b" font-size="12" font-weight="bold">SSR</text>
  <text x="460" y="268" text-anchor="middle" fill="#991b1b" font-size="10">Potted, moisture-rated</text>

  <!-- SSR control line to boiler -->
  <line x1="460" y1="230" x2="460" y2="200" stroke="#dc2626" stroke-width="1.5" stroke-dasharray="4 2"/>
  <text x="490" y="218" fill="#64748b" font-size="9">Boiler control</text>

  <!-- ============ Dimmer Module (left side, near pump) ============ -->
  <rect x="280" y="250" width="95" height="55" rx="5" fill="#fee2e2" stroke="#dc2626" stroke-width="2"/>
  <text x="328" y="272" text-anchor="middle" fill="#991b1b" font-size="11" font-weight="bold">Dimmer</text>
  <text x="328" y="288" text-anchor="middle" fill="#991b1b" font-size="9">AC phase ctrl</text>

  <!-- Dimmer to pump connection -->
  <line x1="280" y1="270" x2="240" y2="260" stroke="#dc2626" stroke-width="1.5" stroke-dasharray="4 2"/>
  <text x="275" y="245" fill="#64748b" font-size="9">Pump drive</text>

  <!-- ============ Pressure Transducer (center-right) ============ -->
  <rect x="300" y="320" width="130" height="50" rx="5" fill="white" stroke="#334155" stroke-width="2"/>
  <text x="365" y="342" text-anchor="middle" fill="#0f172a" font-size="11" font-weight="bold">Pressure Sensor</text>
  <text x="365" y="358" text-anchor="middle" fill="#64748b" font-size="10">Transducer (sealed)</text>

  <!-- Pressure T-fitting from brew path -->
  <line x1="240" y1="340" x2="300" y2="340" stroke="#3b82f6" stroke-width="1.5" stroke-dasharray="4 2"/>
  <text x="270" y="335" text-anchor="middle" fill="#3b82f6" font-size="8">T-fitting</text>

  <!-- ============ Solenoid / 3-way valve (implicit, near boiler) ============ -->
  <rect x="440" y="320" width="100" height="50" rx="5" fill="white" stroke="#334155" stroke-width="2"/>
  <text x="490" y="342" text-anchor="middle" fill="#0f172a" font-size="11" font-weight="bold">3-Way Valve</text>
  <text x="490" y="358" text-anchor="middle" fill="#64748b" font-size="10">Solenoid</text>

  <!-- ============ Bottom: cable exit ============ -->
  <line x1="80" y1="420" x2="520" y2="420" stroke="#78716c" stroke-width="1.5" stroke-dasharray="8 4"/>
  <text x="300" y="414" text-anchor="middle" fill="#64748b" font-size="11">Rear panel edge</text>

  <!-- Cable exit arrows -->
  <line x1="180" y1="420" x2="180" y2="445" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowGray)"/>
  <line x1="300" y1="420" x2="300" y2="445" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowGray)"/>
  <line x1="420" y1="420" x2="420" y2="445" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowGray)"/>

  <text x="300" y="465" text-anchor="middle" fill="#64748b" font-size="11">Cables exit via rear panel glands to external enclosure</text>
  <text x="300" y="480" text-anchor="middle" fill="#64748b" font-size="10" class="mono">TC | PSI | FLW | SSR ctrl | DIM ctrl | SOL ctrl | 5V DC</text>

  <!-- Arrow marker definitions -->
  <defs>
    <marker id="arrowBlue" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M 0 0 L 8 3 L 0 6 Z" fill="#3b82f6"/>
    </marker>
    <marker id="arrowGray" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M 0 0 L 8 3 L 0 6 Z" fill="#64748b"/>
    </marker>
  </defs>
</svg>